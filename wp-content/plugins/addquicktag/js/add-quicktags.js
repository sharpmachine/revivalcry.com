/**
 * AddQuicktag Script to add buttons to html-editor
 * 
 * @package  AddQuicktag Plugin
 * @author   Frank Bueltge <frank@bueltge.de>
 * @version  06/20/2014
 * @since    2.0.0
 */

jQuery(document).ready(function(e){function t(e){return e.focus(),document.selection?document.selection.createRange().text:e.value.substring(e.selectionStart,e.selectionEnd)}if("undefined"!=typeof addquicktag_tags&&"undefined"!=typeof addquicktag_post_type&&"undefined"!=typeof addquicktag_pt_for_js){var n=addquicktag_tags.buttons;if("undefined"!=typeof n){if(e.inArray("addquicktag_post_type",addquicktag_pt_for_js))for(var a=0;a<n.length;a++)1===parseInt(n[a][addquicktag_post_type])&&("undefined"==typeof n[a].title&&(n[a].title=" "),"undefined"==typeof n[a].end&&(n[a].end=""),"undefined"==typeof n[a].access&&(n[a].access=""),QTags.addButton(n[a].text.toLowerCase(),n[a].text,n[a].start,n[a].end,n[a].access,n[a].title));var o=addquicktag_tags.code_buttons;if("undefined"==typeof typenow&&(typenow=""),"undefined"!=typeof o&&("undefined"==typeof o.htmlentities&&(o.htmlentities=0),"undefined"==typeof o.pre&&(o.pre=0),1===o.htmlentities[typenow]&&(QTags.addButton("toHTML","HTML Entities",function(e,n){QTags.insertContent(t(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))},"Encode HTML Entities"),QTags.addButton("fromHTML","Decode HTML",function(e,n){QTags.insertContent(t(n).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"))},"Decode HTML Entities")),1===o.pre[typenow])){var d=["html","javascript","css","bash","php","vb"];edButtons[109]={html:function(e){return'<select id="'+e+'code_language" class="language-select"><option>blank</option><option>'+d.join("</option><option>")+"</option></select>"}},e("body").on("change","select.language-select",function(){var t=e(this).val();edButtons[110].tagStart=t?'<code class="language-'+t+'">':"<code>"}),QTags.addButton("qt_pre","pre","<pre>","</pre>","","Preformatted text","108")}}}});